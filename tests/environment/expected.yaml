# Generated by: crossplane alpha render test --write-expected-outputs
# Do not edit this file manually
---
apiVersion: example.io/v1alpha1
kind: Environment
metadata:
  name: dev
  namespace: team-a
spec:
  crossplane:
    compositionRef:
      name: environments.example.io
  members:
    - email: foo.bar@example.io
      role: Owner
    - email: baz.qux@example.io
      role: Contributor
  type: Standard
status:
  conditions:
    - lastTransitionTime: "2024-01-01T00:00:00Z"
      message: 'Unready resources: feature-compute, feature-container-service, feature-network, and 17 more'
      reason: Creating
      status: "False"
      type: Ready
  subscriptionId: 0000-00-00-0000
---
apiVersion: azure.m.upbound.io/v1beta1
kind: ResourceProviderRegistration
metadata:
  annotations:
    crossplane.io/composition-resource-name: feature-compute
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    name: Microsoft.Compute
  providerConfigRef:
    kind: ProviderConfig
    name: dev-0123abcd
---
apiVersion: azure.m.upbound.io/v1beta1
kind: ResourceProviderRegistration
metadata:
  annotations:
    crossplane.io/composition-resource-name: feature-container-service
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    name: Microsoft.ContainerService
  providerConfigRef:
    kind: ProviderConfig
    name: dev-0123abcd
---
apiVersion: azure.m.upbound.io/v1beta1
kind: ResourceProviderRegistration
metadata:
  annotations:
    crossplane.io/composition-resource-name: feature-network
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    feature:
      - name: DisableNetworkWatcherAutocreation
        registered: true
    name: Microsoft.Network
  providerConfigRef:
    kind: ProviderConfig
    name: dev-0123abcd
---
apiVersion: managedidentity.azure.m.upbound.io/v1beta1
kind: UserAssignedIdentity
metadata:
  annotations:
    crossplane.io/composition-resource-name: identity
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    location: norwayeast
    name: team-a-dev
    resourceGroupName: control-plane-rg
---
apiVersion: managedidentity.azure.m.upbound.io/v1beta1
kind: FederatedIdentityCredential
metadata:
  annotations:
    crossplane.io/composition-resource-name: identity-federation
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    audience:
      - https://swedencentral.oic.prod-aks.azure.com/1234/5678/
    issuer: https://swedencentral.oic.prod-aks.azure.com/1234/5678/
    parentIdSelector:
      matchControllerRef: true
    resourceGroupName: control-plane-rg
    subject: system:serviceaccount:crossplane-system:provider-azure
---
apiVersion: protection.crossplane.io/v1beta1
kind: Usage
metadata:
  annotations:
    crossplane.io/composition-resource-name: identity-federation-uses-identity
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  by:
    apiVersion: managedidentity.azure.m.upbound.io/v1beta1
    kind: FederatedIdentityCredential
    resourceSelector:
      matchControllerRef: true
  of:
    apiVersion: managedidentity.azure.m.upbound.io/v1beta1
    kind: UserAssignedIdentity
    resourceSelector:
      matchControllerRef: true
  replayDeletion: true
---
apiVersion: groups.azuread.m.upbound.io/v1beta1
kind: Member
metadata:
  annotations:
    crossplane.io/composition-resource-name: identity-membership
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    groupObjectId: crossplaneLandingZoneIdentities-group-id
---
apiVersion: protection.crossplane.io/v1beta1
kind: Usage
metadata:
  annotations:
    crossplane.io/composition-resource-name: identity-membership-uses-identity
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  by:
    apiVersion: groups.azuread.m.upbound.io/v1beta1
    kind: Member
    resourceSelector:
      matchControllerRef: true
  of:
    apiVersion: managedidentity.azure.m.upbound.io/v1beta1
    kind: UserAssignedIdentity
    resourceSelector:
      matchControllerRef: true
  replayDeletion: true
---
apiVersion: azure.m.upbound.io/v1beta1
kind: ProviderConfig
metadata:
  annotations:
    crossplane.io/composition-resource-name: provider-config
  labels:
    crossplane.io/composite: dev
  name: dev-0123abcd
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  credentials:
    source: OIDCTokenFile
  oidcTokenFilePath: /var/run/secrets/tokens/sa-token
  subscriptionID: 0000-00-00-0000
  tenantID: 000-01-123
---
apiVersion: protection.crossplane.io/v1beta1
kind: Usage
metadata:
  annotations:
    crossplane.io/composition-resource-name: provider-config-uses-identity-federation
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  by:
    apiVersion: azure.m.upbound.io/v1beta1
    kind: ProviderConfig
    resourceSelector:
      matchControllerRef: true
  of:
    apiVersion: managedidentity.azure.m.upbound.io/v1beta1
    kind: FederatedIdentityCredential
    resourceSelector:
      matchControllerRef: true
  replayDeletion: true
---
apiVersion: protection.crossplane.io/v1beta1
kind: Usage
metadata:
  annotations:
    crossplane.io/composition-resource-name: provider-config-uses-roleassignment
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  by:
    apiVersion: azure.m.upbound.io/v1beta1
    kind: ProviderConfig
    resourceSelector:
      matchControllerRef: true
  of:
    apiVersion: authorization.azure.m.upbound.io/v1beta1
    kind: RoleAssignment
    resourceSelector:
      matchControllerRef: true
      matchLabels:
        identity: provider
  replayDeletion: true
---
apiVersion: protection.crossplane.io/v1beta1
kind: Usage
metadata:
  annotations:
    crossplane.io/composition-resource-name: provider-config-uses-subscription
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  by:
    apiVersion: azure.m.upbound.io/v1beta1
    kind: ProviderConfig
    resourceSelector:
      matchControllerRef: true
  of:
    apiVersion: azure.m.upbound.io/v1beta1
    kind: Subscription
    resourceSelector:
      matchControllerRef: true
  replayDeletion: true
---
apiVersion: azure.m.upbound.io/v1beta1
kind: ResourceGroup
metadata:
  annotations:
    crossplane.io/composition-resource-name: resource-group
    crossplane.io/external-name: dev-rg
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    location: norwayeast
  providerConfigRef:
    kind: ProviderConfig
    name: dev-0123abcd
---
apiVersion: authorization.azure.m.upbound.io/v1beta1
kind: RoleAssignment
metadata:
  annotations:
    crossplane.io/composition-resource-name: roleassignment
  generateName: dev-
  labels:
    crossplane.io/composite: dev
    identity: provider
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    principalType: ServicePrincipal
    roleDefinitionName: Owner
    scope: /subscriptions/0000-00-00-0000
---
apiVersion: protection.crossplane.io/v1beta1
kind: Usage
metadata:
  annotations:
    crossplane.io/composition-resource-name: roleassignment-uses-identity
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  by:
    apiVersion: authorization.azure.m.upbound.io/v1beta1
    kind: RoleAssignment
    resourceSelector:
      matchControllerRef: true
      matchLabels:
        identity: provider
  of:
    apiVersion: managedidentity.azure.m.upbound.io/v1beta1
    kind: UserAssignedIdentity
    resourceSelector:
      matchControllerRef: true
  replayDeletion: true
---
apiVersion: azure.m.upbound.io/v1beta1
kind: Subscription
metadata:
  annotations:
    crossplane.io/composition-resource-name: subscription
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    billingScopeId: /providers/Microsoft.Billing/billingAccounts/00001111/enrollmentAccounts/123456
    subscriptionName: team-a-dev
---
apiVersion: management.azure.m.upbound.io/v1beta1
kind: ManagementGroupSubscriptionAssociation
metadata:
  annotations:
    crossplane.io/composition-resource-name: subscription-managementgroup-association
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    managementGroupId: /providers/Microsoft.Management/managementGroups/management-group-id-123
    subscriptionId: /subscriptions/0000-00-00-0000
  managementPolicies:
    - Create
    - LateInitialize
    - Observe
    - Update
---
apiVersion: users.azuread.m.upbound.io/v1beta1
kind: User
metadata:
  annotations:
    crossplane.io/composition-resource-name: user-baz.qux@example.io
    crossplane.io/external-name: /users/baz.qux@example.io
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider: {}
  managementPolicies:
    - Observe
---
apiVersion: users.azuread.m.upbound.io/v1beta1
kind: User
metadata:
  annotations:
    crossplane.io/composition-resource-name: user-foo.bar@example.io
    crossplane.io/external-name: /users/foo.bar@example.io
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider: {}
  managementPolicies:
    - Observe
---
apiVersion: authorization.azure.m.upbound.io/v1beta1
kind: RoleAssignment
metadata:
  annotations:
    crossplane.io/composition-resource-name: user-role-baz.qux@example.io
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    principalId: 12341234-1234-1234-1234-48d15313263d
    principalType: User
    roleDefinitionName: Contributor
    scope: /subscriptions/0000-00-00-0000
---
apiVersion: authorization.azure.m.upbound.io/v1beta1
kind: RoleAssignment
metadata:
  annotations:
    crossplane.io/composition-resource-name: user-role-foo.bar@example.io
  generateName: dev-
  labels:
    crossplane.io/composite: dev
  namespace: team-a
  ownerReferences:
    - apiVersion: example.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: Environment
      name: dev
      uid: ""
spec:
  forProvider:
    principalId: 12341234-1234-1234-1234-00005313263d
    principalType: User
    roleDefinitionName: Owner
    scope: /subscriptions/0000-00-00-0000
